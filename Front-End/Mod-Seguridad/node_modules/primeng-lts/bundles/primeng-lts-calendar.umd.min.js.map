{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/app/components/calendar/calendar.ts"],"names":["Object","create","__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__read","n","r","e","ar","push","error","__spread","arguments","concat","CALENDAR_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","Calendar","multi","el","renderer","cd","zone","config","this","dateFormat","multipleSeparator","rangeSeparator","inline","showOtherMonths","icon","shortYearCutoff","hourFormat","stepHour","stepMinute","stepSecond","showSeconds","showOnFocus","showWeek","dataType","selectionMode","todayButtonStyleClass","clearButtonStyleClass","autoZIndex","baseZIndex","keepInvalid","hideOnDateTimeSelect","numberOfMonths","view","timeSeparator","focusTrap","showTransitionOptions","hideTransitionOptions","onFocus","EventEmitter","onBlur","onClose","onSelect","onInput","onTodayClick","onClearClick","onMonthChange","onYearChange","onClickOutside","onShow","onModelChange","onModelTouched","inputFieldValue","navigationState","convertTo24Hour","hours","pm","defineProperty","prototype","content","_this","contentViewChild","isMonthNavigate","Promise","resolve","then","updateFocus","initFocusableCell","_defaultDate","defaultDate","initialized","date","Date","currentMonth","getMonth","currentYear","getFullYear","initTime","createMonths","_minDate","undefined","_maxDate","_disabledDates","disabledDates","_disabledDays","disabledDays","_yearRange","yearRange","years","split","yearStart","parseInt","yearEnd","populateYearOptions","_showTime","showTime","currentHour","updateInputfield","_firstDayOfWeek","firstDayOfWeek","createWeekDays","_locale","newLocale","console","warn","ngOnInit","ticksTo1970","Math","floor","createMonthPickerValues","translationSubscription","translationObserver","subscribe","ngAfterContentInit","templates","forEach","item","getType","dateTemplate","template","disabledDateTemplate","headerTemplate","footerTemplate","getTranslation","option","start","end","yearOptions","weekDays","dayIndex","getFirstDateOfWeek","dayLabels","TranslationKeys","DAY_NAMES_MIN","monthPickerValues","monthLabels","MONTH_NAMES_SHORT","month","year","months","y","createMonth","getWeekNumber","checkDate","getTime","setDate","getDate","getDay","time","setMonth","round","dates","firstDay","getFirstDayOfMonthIndex","daysLength","getDaysCountInMonth","prevMonthDaysLength","getDaysCountInPrevMonth","dayNo","today","weekNumbers","monthRows","ceil","week","j","prev","getPreviousMonthAndYear","day","otherMonth","isToday","selectable","isSelectable","remainingDaysLength","getNextMonthAndYear","getHours","currentMinute","getMinutes","currentSecond","getSeconds","setCurrentHourPM","timeOnly","navBackward","event","stopPropagation","disabled","preventDefault","decrementYear","setTimeout","emit","navForward","incrementYear","yearNavigator","difference","onDateSelect","dateMeta","isMultipleSelection","isSelected","filter","isDateEquals","updateModel","shouldSelectDate","selectDate","isSingleSelection","hideOverlay","mask","disableModality","markForCheck","maxDateCount","onMonthSelect","index","DomHandler","hasClass","target","formattedValue","formatDateTime","isRangeSelection","startDate","endDate","updateFilledState","inputfieldViewChild","nativeElement","formatTime","formatDate","getDateFormat","setHours","setMinutes","setSeconds","minDate","maxDate","stringArrValue","map","setFullYear","getSundayIndex","daylightSavingAdjust","selected","_b","_c","isDateBetween","isMonthSelected","Array","isArray","validMin","validMax","validDate","validDay","selectOtherMonths","isDateDisabled","isDayDisabled","disabledDate","weekdayNumber","indexOf","onInputFocus","focus","showOverlay","onInputClick","overlay","style","zIndex","String","zindex","overlayVisible","onInputBlur","onButtonClick","inputfield","onPrevButtonClick","backward","button","onNextButtonClick","onContainerButtonKeydown","which","trapFocus","onInputKeydown","isKeydown","keyCode","getFocusableElements","tabIndex","onDateCellKeydown","groupIndex","cellContent","currentTarget","cell","parentElement","cellIndex","nextRow","nextElementSibling","focusCell","children","prevRow","previousElementSibling","prevCell","navigateToMonth","nextCell","onMonthCellKeydown","cells","prevMonthContainer","find","nextMonthContainer","findSingle","selectedCell","todayCell","focusableElements","ownerDocument","activeElement","focusedIndex","shiftKey","onMonthDropdownChange","onYearDropdownChange","validateTime","hour","minute","second","convertedHour","valueDateString","toDateString","incrementHour","prevHour","newHour","newPM","onTimePickerElementMouseDown","type","direction","repeat","onTimePickerElementMouseUp","clearTimePickerTimer","updateTime","onTimePickerElementMouseLeave","timePickerTimer","interval","decrementHour","incrementMinute","decrementMinute","incrementSecond","decrementSecond","clearTimeout","newMinute","newSecond","slice","toggleAMPM","onUserInput","val","parseValueFromString","isValidSelection","updateUI","err","filled","isValid","every","v","text","trim","parseDateTime","tokens","tokens_1","tokens_1_1","token","parts","populateTime","ampm","pop","timeString","parseDate","join","parseTime","touchUI","toggle","onOverlayAnimationStart","toState","element","appendOverlay","alignOverlay","onOverlayHide","onOverlayAnimationDone","bindDocumentClickListener","bindDocumentResizeListener","bindScrollListener","appendTo","document","body","appendChild","restoreOverlayAppend","enableModality","absolutePosition","relativePosition","createElement","addMultipleClasses","maskClickListener","listen","addClass","removeChild","bodyChildren","hasBlockerMasks","bodyChild","removeClass","unbindMaskClickListener","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","FIRST_DAY_OF_WEEK","format","iFormat","lookAhead","match","matches","charAt","formatNumber","len","num","formatName","shortNames","longNames","output","literal","DAY_NAMES_SHORT","DAY_NAMES","MONTH_NAMES","minutes","seconds","validTokenLength","h","isNaN","toString","dim","extra","iValue","doy","getNumber","isDoubled","size","digits","RegExp","substring","getName","arr","names","sort","a","b","name","substr","toLowerCase","checkLiteral","test","onTodayButtonClick","onClearButtonClick","documentClickListener","runOutsideAngular","documentTarget","isOutsideClicked","run","unbindDocumentClickListener","documentResizeListener","onWindowResize","bind","window","addEventListener","unbindDocumentResizeListener","removeEventListener","scrollHandler","ConnectedOverlayScrollHandler","containerViewChild","unbindScrollListener","isSameNode","isNavIconClicked","contains","isAndroid","ngOnDestroy","destroy","unsubscribe","Component","args","selector","animations","trigger","state","transform","opacity","transition","animate","host","[class.p-inputwrapper-filled]","[class.p-inputwrapper-focus]","providers","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","ElementRef","Renderer2","ChangeDetectorRef","NgZone","PrimeNGConfig","Input","Output","ContentChildren","PrimeTemplate","ViewChild","static","NgModule","imports","CommonModule","ButtonModule","SharedModule","RippleModule","exports","declarations"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import {NgModule,Component,ElementRef,OnDestroy,OnInit,Input,Output,EventEmitter,forwardRef,Renderer2,\n        ViewChild,ChangeDetectorRef,TemplateRef,ContentChildren,QueryList,NgZone,ChangeDetectionStrategy, ViewEncapsulation} from '@angular/core';\nimport {trigger,state,style,transition,animate,AnimationEvent} from '@angular/animations';\nimport {CommonModule} from '@angular/common';\nimport {ButtonModule} from 'primeng-lts/button';\nimport {RippleModule} from 'primeng-lts/ripple';\nimport {DomHandler, ConnectedOverlayScrollHandler} from 'primeng-lts/dom';\nimport {SharedModule,PrimeTemplate,PrimeNGConfig,TranslationKeys} from 'primeng-lts/api';\nimport {NG_VALUE_ACCESSOR, ControlValueAccessor} from '@angular/forms';\nimport {Subscription} from 'rxjs';\n\nexport const CALENDAR_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => Calendar),\n    multi: true\n};\n\nexport interface LocaleSettings {\n    firstDayOfWeek?: number;\n    dayNames?: string[];\n    dayNamesShort?: string[];\n    dayNamesMin?: string[];\n    monthNames?: string[];\n    monthNamesShort?: string[];\n    today?: string;\n    clear?: string;\n    dateFormat?: string;\n    weekHeader?: string;\n}\n\n@Component({\n    selector: 'p-calendar',\n    template:  `\n        <span #container [ngClass]=\"{'p-calendar':true, 'p-calendar-w-btn': showIcon, 'p-calendar-timeonly': timeOnly, 'p-calendar-disabled':disabled, 'p-focus': focus}\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <ng-template [ngIf]=\"!inline\">\n                <input #inputfield type=\"text\" [attr.id]=\"inputId\" [attr.name]=\"name\" [attr.required]=\"required\" [attr.aria-required]=\"required\" [value]=\"inputFieldValue\" (focus)=\"onInputFocus($event)\" (keydown)=\"onInputKeydown($event)\" (click)=\"onInputClick()\" (blur)=\"onInputBlur($event)\"\n                    [readonly]=\"readonlyInput\" (input)=\"onUserInput($event)\" [ngStyle]=\"inputStyle\" [class]=\"inputStyleClass\" [placeholder]=\"placeholder||''\" [disabled]=\"disabled\" [attr.tabindex]=\"tabindex\" [attr.inputmode]=\"touchUI ? 'off' : null\"\n                    [ngClass]=\"'p-inputtext p-component'\" autocomplete=\"off\" [attr.aria-labelledby]=\"ariaLabelledBy\"\n                    ><button type=\"button\" [icon]=\"icon\" pButton pRipple *ngIf=\"showIcon\" (click)=\"onButtonClick($event,inputfield)\" class=\"p-datepicker-trigger\"\n                    [disabled]=\"disabled\" tabindex=\"0\"></button>\n            </ng-template>\n            <div #contentWrapper [class]=\"panelStyleClass\" [ngStyle]=\"panelStyle\" [ngClass]=\"{'p-datepicker p-component': true, 'p-datepicker-inline':inline,\n                'p-disabled':disabled,'p-datepicker-timeonly':timeOnly,'p-datepicker-multiple-month': this.numberOfMonths > 1, 'p-datepicker-monthpicker': (view === 'month'), 'p-datepicker-touch-ui': touchUI}\"\n                [@overlayAnimation]=\"touchUI ? {value: 'visibleTouchUI', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}:\n                                            {value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\"\n                                            [@.disabled]=\"inline === true\" (@overlayAnimation.start)=\"onOverlayAnimationStart($event)\" (@overlayAnimation.done)=\"onOverlayAnimationDone($event)\" *ngIf=\"inline || overlayVisible\">\n                <ng-content select=\"p-header\"></ng-content>\n                <ng-container *ngTemplateOutlet=\"headerTemplate\"></ng-container>\n                <ng-container *ngIf=\"!timeOnly\">\n                    <div class=\"p-datepicker-group-container\">\n                        <div class=\"p-datepicker-group\" *ngFor=\"let month of months; let i = index;\">\n                            <div class=\"p-datepicker-header\">\n                                <button (keydown)=\"onContainerButtonKeydown($event)\" class=\"p-datepicker-prev p-link\" (click)=\"onPrevButtonClick($event)\" *ngIf=\"i === 0\" type=\"button\" pRipple>\n                                    <span class=\"p-datepicker-prev-icon pi pi-chevron-left\"></span>\n                                </button>\n                                <div class=\"p-datepicker-title\">\n                                    <span class=\"p-datepicker-month\" *ngIf=\"!monthNavigator && (view !== 'month')\">{{getTranslation('monthNames')[month.month]}}</span>\n                                    <select tabindex=\"0\" class=\"p-datepicker-month\" *ngIf=\"monthNavigator && (view !== 'month') && numberOfMonths === 1\" (change)=\"onMonthDropdownChange($event.target.value)\">\n                                        <option [value]=\"i\" *ngFor=\"let monthName of getTranslation('monthNames');let i = index\" [selected]=\"i === month.month\">{{monthName}}</option>\n                                    </select>\n                                    <select tabindex=\"0\" class=\"p-datepicker-year\" *ngIf=\"yearNavigator && numberOfMonths === 1\" (change)=\"onYearDropdownChange($event.target.value)\">\n                                        <option [value]=\"year\" *ngFor=\"let year of yearOptions\" [selected]=\"year === currentYear\">{{year}}</option>\n                                    </select>\n                                    <span class=\"p-datepicker-year\" *ngIf=\"!yearNavigator\">{{view === 'month' ? currentYear : month.year}}</span>\n                                </div>\n                                <button (keydown)=\"onContainerButtonKeydown($event)\" class=\"p-datepicker-next p-link\" (click)=\"onNextButtonClick($event)\" *ngIf=\"numberOfMonths === 1 ? true : (i === numberOfMonths -1)\" type=\"button\" pRipple>\n                                    <span class=\"p-datepicker-next-icon pi pi-chevron-right\"></span>\n                                </button>\n                            </div>\n                            <div class=\"p-datepicker-calendar-container\" *ngIf=\"view ==='date'\">\n                                <table class=\"p-datepicker-calendar\">\n                                    <thead>\n                                        <tr>\n                                            <th *ngIf=\"showWeek\" class=\"p-datepicker-weekheader p-disabled\">\n                                                <span>{{getTranslation('weekHeader')}}</span>\n                                            </th>\n                                            <th scope=\"col\" *ngFor=\"let weekDay of weekDays;let begin = first; let end = last\">\n                                                <span>{{weekDay}}</span>\n                                            </th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr *ngFor=\"let week of month.dates; let j = index;\">\n                                            <td *ngIf=\"showWeek\" class=\"p-datepicker-weeknumber\">\n                                                <span class=\"p-disabled\">\n                                                    {{month.weekNumbers[j]}}\n                                                </span>\n                                            </td>\n                                            <td *ngFor=\"let date of week\" [ngClass]=\"{'p-datepicker-other-month': date.otherMonth,'p-datepicker-today':date.today}\">\n                                                <ng-container *ngIf=\"date.otherMonth ? showOtherMonths : true\">\n                                                    <span [ngClass]=\"{'p-highlight':isSelected(date), 'p-disabled': !date.selectable}\"\n                                                        (click)=\"onDateSelect($event,date)\" draggable=\"false\" (keydown)=\"onDateCellKeydown($event,date,i)\" pRipple>\n                                                        <ng-container *ngIf=\"!dateTemplate\">{{date.day}}</ng-container>\n                                                        <ng-container *ngTemplateOutlet=\"dateTemplate; context: {$implicit: date}\"></ng-container>\n                                                    </span>\n                                                </ng-container>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"p-monthpicker\" *ngIf=\"view === 'month'\">\n                        <span *ngFor=\"let m of monthPickerValues; let i = index\" (click)=\"onMonthSelect($event, i)\" (keydown)=\"onMonthCellKeydown($event,i)\" class=\"p-monthpicker-month\" [ngClass]=\"{'p-highlight': isMonthSelected(i), 'p-disabled':!isSelectable(1, i, this.currentYear, false)}\" pRipple>\n                            {{m}}\n                        </span>\n                    </div>\n                </ng-container>\n                <div class=\"p-timepicker\" *ngIf=\"showTime||timeOnly\">\n                    <div class=\"p-hour-picker\">\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (keydown.enter)=\"incrementHour($event)\" (mousedown)=\"onTimePickerElementMouseDown($event, 0, 1)\" (mouseup)=\"onTimePickerElementMouseUp($event)\" (mouseleave)=\"onTimePickerElementMouseLeave()\" pRipple>\n                            <span class=\"pi pi-chevron-up\"></span>\n                        </button>\n                        <span><ng-container *ngIf=\"currentHour < 10\">0</ng-container>{{currentHour}}</span>\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (keydown.enter)=\"decrementHour($event)\" (mousedown)=\"onTimePickerElementMouseDown($event, 0, -1)\" (mouseup)=\"onTimePickerElementMouseUp($event)\" (mouseleave)=\"onTimePickerElementMouseLeave()\" pRipple>\n                            <span class=\"pi pi-chevron-down\"></span>\n                        </button>\n                    </div>\n                    <div class=\"p-separator\">\n                        <span>{{timeSeparator}}</span>\n                    </div>\n                    <div class=\"p-minute-picker\">\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (keydown.enter)=\"incrementMinute($event)\" (mousedown)=\"onTimePickerElementMouseDown($event, 1, 1)\" (mouseup)=\"onTimePickerElementMouseUp($event)\" (mouseleave)=\"onTimePickerElementMouseLeave()\" pRipple>\n                            <span class=\"pi pi-chevron-up\"></span>\n                        </button>\n                        <span><ng-container *ngIf=\"currentMinute < 10\">0</ng-container>{{currentMinute}}</span>\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (keydown.enter)=\"decrementMinute($event)\" (mousedown)=\"onTimePickerElementMouseDown($event, 1, -1)\" (mouseup)=\"onTimePickerElementMouseUp($event)\" (mouseleave)=\"onTimePickerElementMouseLeave()\" pRipple>\n                            <span class=\"pi pi-chevron-down\"></span>\n                        </button>\n                    </div>\n                    <div class=\"p-separator\" *ngIf=\"showSeconds\">\n                        <span>{{timeSeparator}}</span>\n                    </div>\n                    <div class=\"p-second-picker\" *ngIf=\"showSeconds\">\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (keydown.enter)=\"incrementSecond($event)\" (mousedown)=\"onTimePickerElementMouseDown($event, 2, 1)\" (mouseup)=\"onTimePickerElementMouseUp($event)\" (mouseleave)=\"onTimePickerElementMouseLeave()\" pRipple>\n                            <span class=\"pi pi-chevron-up\"></span>\n                        </button>\n                        <span><ng-container *ngIf=\"currentSecond < 10\">0</ng-container>{{currentSecond}}</span>\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (keydown.enter)=\"decrementSecond($event)\" (mousedown)=\"onTimePickerElementMouseDown($event, 2, -1)\" (mouseup)=\"onTimePickerElementMouseUp($event)\" (mouseleave)=\"onTimePickerElementMouseLeave()\" pRipple>\n                            <span class=\"pi pi-chevron-down\"></span>\n                        </button>\n                    </div>\n                    <div class=\"p-ampm-picker\" *ngIf=\"hourFormat=='12'\">\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (click)=\"toggleAMPM($event)\" (keydown.enter)=\"toggleAMPM($event)\" pRipple>\n                            <span class=\"pi pi-chevron-up\"></span>\n                        </button>\n                        <span>{{pm ? 'PM' : 'AM'}}</span>\n                        <button class=\"p-link\" type=\"button\" (keydown)=\"onContainerButtonKeydown($event)\" (click)=\"toggleAMPM($event)\" (keydown.enter)=\"toggleAMPM($event)\" pRipple>\n                            <span class=\"pi pi-chevron-down\"></span>\n                        </button>\n                    </div>\n                </div>\n                <div class=\"p-datepicker-buttonbar\" *ngIf=\"showButtonBar\">\n                    <button type=\"button\" [label]=\"getTranslation('today')\" (keydown)=\"onContainerButtonKeydown($event)\" (click)=\"onTodayButtonClick($event)\" pButton pRipple [ngClass]=\"[todayButtonStyleClass]\"></button>\n                    <button type=\"button\" [label]=\"getTranslation('clear')\" (keydown)=\"onContainerButtonKeydown($event)\" (click)=\"onClearButtonClick($event)\" pButton pRipple [ngClass]=\"[clearButtonStyleClass]\"></button>\n                </div>\n                <ng-content select=\"p-footer\"></ng-content>\n                <ng-container *ngTemplateOutlet=\"footerTemplate\"></ng-container>\n            </div>\n        </span>\n    `,\n    animations: [\n        trigger('overlayAnimation', [\n            state('visibleTouchUI', style({\n                transform: 'translate(-50%,-50%)',\n                opacity: 1\n            })),\n            transition('void => visible', [\n                style({opacity: 0, transform: 'scaleY(0.8)'}),\n                animate('{{showTransitionParams}}', style({ opacity: 1, transform: '*' }))\n            ]),\n            transition('visible => void', [\n                animate('{{hideTransitionParams}}', style({ opacity: 0 }))\n            ]),\n            transition('void => visibleTouchUI', [\n                style({opacity: 0, transform: 'translate3d(-50%, -40%, 0) scale(0.9)'}),\n                animate('{{showTransitionParams}}')\n            ]),\n            transition('visibleTouchUI => void', [\n                animate(('{{hideTransitionParams}}'),\n                style({\n                    opacity: 0,\n                    transform: 'translate3d(-50%, -40%, 0) scale(0.9)'\n                }))\n            ])\n        ])\n    ],\n    host: {\n        '[class.p-inputwrapper-filled]': 'filled',\n        '[class.p-inputwrapper-focus]': 'focus'\n    },\n    providers: [CALENDAR_VALUE_ACCESSOR],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['./calendar.css']\n})\nexport class Calendar implements OnInit,OnDestroy,ControlValueAccessor {\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() inputStyle: any;\n\n    @Input() inputId: string;\n\n    @Input() name: string;\n\n    @Input() inputStyleClass: string;\n\n    @Input() placeholder: string;\n\n    @Input() ariaLabelledBy: string;\n\n    @Input() disabled: any;\n\n    @Input() dateFormat: string = 'mm/dd/yy';\n\n    @Input() multipleSeparator: string = ',';\n\n    @Input() rangeSeparator: string = '-';\n\n    @Input() inline: boolean = false;\n\n    @Input() showOtherMonths: boolean = true;\n\n    @Input() selectOtherMonths: boolean;\n\n    @Input() showIcon: boolean;\n\n    @Input() icon: string = 'pi pi-calendar';\n\n    @Input() appendTo: any;\n\n    @Input() readonlyInput: boolean;\n\n    @Input() shortYearCutoff: any = '+10';\n\n    @Input() monthNavigator: boolean;\n\n    @Input() yearNavigator: boolean;\n\n    @Input() hourFormat: string = '24';\n\n    @Input() timeOnly: boolean;\n\n    @Input() stepHour: number = 1;\n\n    @Input() stepMinute: number = 1;\n\n    @Input() stepSecond: number = 1;\n\n    @Input() showSeconds: boolean = false;\n\n    @Input() required: boolean;\n\n    @Input() showOnFocus: boolean = true;\n\n    @Input() showWeek: boolean = false;\n\n    @Input() dataType: string = 'date';\n\n    @Input() selectionMode: string = 'single';\n\n    @Input() maxDateCount: number;\n\n    @Input() showButtonBar: boolean;\n\n    @Input() todayButtonStyleClass: string = 'p-button-text';\n\n    @Input() clearButtonStyleClass: string = 'p-button-text';\n\n    @Input() autoZIndex: boolean = true;\n\n    @Input() baseZIndex: number = 0;\n\n    @Input() panelStyleClass: string;\n\n    @Input() panelStyle: any;\n\n    @Input() keepInvalid: boolean = false;\n\n    @Input() hideOnDateTimeSelect: boolean = true;\n\n    @Input() numberOfMonths: number = 1;\n\n    @Input() view: string = 'date';\n\n    @Input() touchUI: boolean;\n\n    @Input() timeSeparator: string = \":\";\n\n    @Input() focusTrap: boolean = true;\n\n    @Input() showTransitionOptions: string = '.12s cubic-bezier(0, 0, 0.2, 1)';\n\n    @Input() hideTransitionOptions: string = '.1s linear';\n\n    @Output() onFocus: EventEmitter<any> = new EventEmitter();\n\n    @Output() onBlur: EventEmitter<any> = new EventEmitter();\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @Output() onSelect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onInput: EventEmitter<any> = new EventEmitter();\n\n    @Output() onTodayClick: EventEmitter<any> = new EventEmitter();\n\n    @Output() onClearClick: EventEmitter<any> = new EventEmitter();\n\n    @Output() onMonthChange: EventEmitter<any> = new EventEmitter();\n\n    @Output() onYearChange: EventEmitter<any> = new EventEmitter();\n\n    @Output() onClickOutside: EventEmitter<any> = new EventEmitter();\n\n    @Output() onShow: EventEmitter<any> = new EventEmitter();\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n\n    @Input() tabindex: number;\n\n    @ViewChild('container', { static: false }) containerViewChild: ElementRef;\n\n    @ViewChild('inputfield', { static: false }) inputfieldViewChild: ElementRef;\n\n    @ViewChild('contentWrapper', { static: false }) set content (content: ElementRef) {\n        this.contentViewChild = content;\n\n        if (this.contentViewChild) {\n            if (this.isMonthNavigate) {\n                Promise.resolve(null).then(() => this.updateFocus());\n                this.isMonthNavigate = false;\n            }\n            else {\n                this.initFocusableCell();\n            }\n        }\n    };\n\n    contentViewChild: ElementRef;\n\n    value: any;\n\n    dates: any[];\n\n    months: any[];\n\n    monthPickerValues: any[];\n\n    weekDays: string[];\n\n    currentMonth: number;\n\n    currentYear: number;\n\n    currentHour: number;\n\n    currentMinute: number;\n\n    currentSecond: number;\n\n    pm: boolean;\n\n    mask: HTMLDivElement;\n\n    maskClickListener: Function;\n\n    overlay: HTMLDivElement;\n\n    overlayVisible: boolean;\n\n    onModelChange: Function = () => {};\n\n    onModelTouched: Function = () => {};\n\n    calendarElement: any;\n\n    timePickerTimer:any;\n\n    documentClickListener: any;\n\n    ticksTo1970: number;\n\n    yearOptions: number[];\n\n    focus: boolean;\n\n    isKeydown: boolean;\n\n    filled: boolean;\n\n    inputFieldValue: string = null;\n\n    _minDate: Date;\n\n    _maxDate: Date;\n\n    _showTime: boolean;\n\n    _yearRange: string;\n\n    preventDocumentListener: boolean;\n\n    dateTemplate: TemplateRef<any>;\n\n    headerTemplate: TemplateRef<any>;\n\n    footerTemplate: TemplateRef<any>;\n\n    disabledDateTemplate: TemplateRef<any>;\n\n    _disabledDates: Array<Date>;\n\n    _disabledDays: Array<number>;\n\n    selectElement: any;\n\n    todayElement: any;\n\n    focusElement: any;\n\n    scrollHandler: any;\n\n    documentResizeListener: any;\n\n    navigationState: any = null;\n\n    isMonthNavigate: boolean;\n\n    initialized: boolean;\n\n    translationSubscription: Subscription;\n\n    _locale: LocaleSettings;\n\n    _firstDayOfWeek: number;\n\n    @Input() get defaultDate(): Date {\n        return this._defaultDate;\n    };\n\n    set defaultDate(defaultDate: Date) {\n        this._defaultDate = defaultDate;\n\n        if (this.initialized) {\n            const date = defaultDate||new Date();\n            this.currentMonth = date.getMonth();\n            this.currentYear = date.getFullYear();\n            this.initTime(date);\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    _defaultDate: Date;\n\n    @Input() get minDate(): Date {\n        return this._minDate;\n    }\n\n    set minDate(date: Date) {\n        this._minDate = date;\n\n        if (this.currentMonth != undefined && this.currentMonth != null && this.currentYear) {\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    @Input() get maxDate(): Date {\n        return this._maxDate;\n    }\n\n    set maxDate(date: Date) {\n        this._maxDate = date;\n\n        if (this.currentMonth != undefined && this.currentMonth != null  && this.currentYear) {\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    @Input() get disabledDates(): Date[] {\n        return this._disabledDates;\n    }\n\n    set disabledDates(disabledDates: Date[]) {\n        this._disabledDates = disabledDates;\n        if (this.currentMonth != undefined && this.currentMonth != null  && this.currentYear) {\n\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    @Input() get disabledDays(): number[] {\n        return this._disabledDays;\n    }\n\n    set disabledDays(disabledDays: number[]) {\n        this._disabledDays = disabledDays;\n\n        if (this.currentMonth != undefined && this.currentMonth != null  && this.currentYear) {\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    @Input() get yearRange(): string {\n        return this._yearRange;\n    }\n\n    set yearRange(yearRange: string) {\n        this._yearRange = yearRange;\n\n        if (yearRange) {\n            const years = yearRange.split(':');\n            const yearStart = parseInt(years[0]);\n            const yearEnd = parseInt(years[1]);\n\n            this.populateYearOptions(yearStart, yearEnd);\n        }\n    }\n\n    @Input() get showTime(): boolean {\n        return this._showTime;\n    }\n\n    set showTime(showTime: boolean) {\n        this._showTime = showTime;\n\n        if (this.currentHour === undefined) {\n            this.initTime(this.value||new Date());\n        }\n        this.updateInputfield();\n    }\n\n    @Input() get firstDayOfWeek(): number {\n        return this._firstDayOfWeek;\n    }\n\n    set firstDayOfWeek(firstDayOfWeek: number) {\n        this._firstDayOfWeek = firstDayOfWeek;\n\n        this.createWeekDays();\n    }\n\n    get locale() {\n       return this._locale;\n    }\n\n    @Input()\n    set locale(newLocale: LocaleSettings) {\n        console.warn(\"Locale property has no effect, use new i18n API instead.\");\n    }\n\n    constructor(public el: ElementRef, public renderer: Renderer2, public cd: ChangeDetectorRef, private zone: NgZone, private config: PrimeNGConfig) {}\n\n    ngOnInit() {\n        const date = this.defaultDate||new Date();\n        this.currentMonth = date.getMonth();\n        this.currentYear = date.getFullYear();\n\n        if (this.view === 'date') {\n            this.createWeekDays();\n            this.initTime(date);\n            this.createMonths(this.currentMonth, this.currentYear);\n            this.ticksTo1970 = (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) + Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000);\n        }\n        else if (this.view === 'month') {\n            this.createMonthPickerValues();\n        }\n\n        this.translationSubscription = this.config.translationObserver.subscribe(() => {\n            this.createWeekDays();\n        });\n\n        this.initialized = true;\n    }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch (item.getType()) {\n                case 'date':\n                    this.dateTemplate = item.template;\n                break;\n\n                case 'disabledDate':\n                    this.disabledDateTemplate = item.template;\n                break;\n\n                case 'header':\n                    this.headerTemplate = item.template;\n                break;\n\n                case 'footer':\n                    this.footerTemplate = item.template;\n                break;\n\n                default:\n                    this.dateTemplate = item.template;\n                break;\n            }\n        });\n    }\n\n    getTranslation(option: string) {\n        return this.config.getTranslation(option);\n    }\n\n    populateYearOptions(start, end) {\n        this.yearOptions = [];\n\n        for (let i = start; i <= end; i++) {\n            this.yearOptions.push(i);\n        }\n    }\n\n    createWeekDays() {\n        this.weekDays = [];\n        let dayIndex = this.getFirstDateOfWeek();\n        let dayLabels = this.getTranslation(TranslationKeys.DAY_NAMES_MIN);\n        for (let i = 0; i < 7; i++) {\n            this.weekDays.push(dayLabels[dayIndex]);\n            dayIndex = (dayIndex == 6) ? 0 : ++dayIndex;\n        }\n    }\n\n    createMonthPickerValues() {\n        this.monthPickerValues = [];\n        let monthLabels = this.getTranslation(TranslationKeys.MONTH_NAMES_SHORT);\n        for (let i = 0; i <= 11; i++) {\n            this.monthPickerValues.push(monthLabels[i]);\n        }\n    }\n\n    createMonths(month: number, year: number) {\n        this.months = this.months = [];\n        for (let i = 0 ; i < this.numberOfMonths; i++) {\n            let m = month + i;\n            let y = year;\n            if (m > 11) {\n                m = m % 11 - 1;\n                y = year + 1;\n            }\n\n            this.months.push(this.createMonth(m, y));\n        }\n    }\n\n    getWeekNumber(date: Date) {\n        let checkDate = new Date(date.getTime());\n\t\tcheckDate.setDate(checkDate.getDate() + 4 - ( checkDate.getDay() || 7 ));\n\t\tlet time = checkDate.getTime();\n\t\tcheckDate.setMonth( 0 );\n\t\tcheckDate.setDate( 1 );\n\t\treturn Math.floor( Math.round((time - checkDate.getTime()) / 86400000 ) / 7 ) + 1;\n    }\n\n    createMonth(month: number, year: number) {\n        let dates = [];\n        let firstDay = this.getFirstDayOfMonthIndex(month, year);\n        let daysLength = this.getDaysCountInMonth(month, year);\n        let prevMonthDaysLength = this.getDaysCountInPrevMonth(month, year);\n        let dayNo = 1;\n        let today = new Date();\n        let weekNumbers = [];\n        let monthRows = Math.ceil((daysLength + firstDay) / 7);\n\n        for (let i = 0; i < monthRows; i++) {\n            let week = [];\n\n            if (i == 0) {\n                for (let j = (prevMonthDaysLength - firstDay + 1); j <= prevMonthDaysLength; j++) {\n                    let prev = this.getPreviousMonthAndYear(month, year);\n                    week.push({day: j, month: prev.month, year: prev.year, otherMonth: true,\n                            today: this.isToday(today, j, prev.month, prev.year), selectable: this.isSelectable(j, prev.month, prev.year, true)});\n                }\n\n                let remainingDaysLength = 7 - week.length;\n                for (let j = 0; j < remainingDaysLength; j++) {\n                    week.push({day: dayNo, month: month, year: year, today: this.isToday(today, dayNo, month, year),\n                            selectable: this.isSelectable(dayNo, month, year, false)});\n                    dayNo++;\n                }\n            }\n            else {\n                for (let j = 0; j < 7; j++) {\n                    if (dayNo > daysLength) {\n                        let next = this.getNextMonthAndYear(month, year);\n                        week.push({day: dayNo - daysLength, month: next.month, year: next.year, otherMonth: true,\n                                    today: this.isToday(today, dayNo - daysLength, next.month, next.year),\n                                    selectable: this.isSelectable((dayNo - daysLength), next.month, next.year, true)});\n                    }\n                    else {\n                        week.push({day: dayNo, month: month, year: year, today: this.isToday(today, dayNo, month, year),\n                            selectable: this.isSelectable(dayNo, month, year, false)});\n                    }\n\n                    dayNo++;\n                }\n            }\n\n            if (this.showWeek) {\n                weekNumbers.push(this.getWeekNumber(new Date(week[0].year, week[0].month, week[0].day)));\n            }\n\n            dates.push(week);\n        }\n\n        return {\n            month: month,\n            year: year,\n            dates: dates,\n            weekNumbers: weekNumbers\n        };\n    }\n\n    initTime(date: Date) {\n        this.pm = date.getHours() > 11;\n\n        if (this.showTime) {\n            this.currentMinute = date.getMinutes();\n            this.currentSecond = date.getSeconds();\n            this.setCurrentHourPM(date.getHours());\n        }\n        else if (this.timeOnly) {\n            this.currentMinute = 0;\n            this.currentHour = 0;\n            this.currentSecond = 0;\n        }\n    }\n\n    navBackward(event) {\n        event.stopPropagation();\n\n        if (this.disabled) {\n            event.preventDefault();\n            return;\n        }\n\n        this.isMonthNavigate = true;\n\n        if (this.view === 'month') {\n            this.decrementYear();\n            setTimeout(()=> {\n                this.updateFocus();\n            },1);\n        }\n        else {\n            if (this.currentMonth === 0) {\n                this.currentMonth = 11;\n                this.decrementYear();\n            }\n            else {\n                this.currentMonth--;\n            }\n\n            this.onMonthChange.emit({ month: this.currentMonth + 1, year: this.currentYear });\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    navForward(event) {\n        event.stopPropagation();\n\n        if (this.disabled) {\n            event.preventDefault();\n            return;\n        }\n\n        this.isMonthNavigate = true;\n\n        if (this.view === 'month') {\n            this.incrementYear();\n            setTimeout(()=> {\n                this.updateFocus();\n            },1);\n        }\n        else {\n            if (this.currentMonth === 11) {\n                this.currentMonth = 0;\n                this.incrementYear();\n            }\n            else {\n                this.currentMonth++;\n            }\n\n            this.onMonthChange.emit({month: this.currentMonth + 1, year: this.currentYear});\n            this.createMonths(this.currentMonth, this.currentYear);\n        }\n    }\n\n    decrementYear() {\n        this.currentYear--;\n\n        if (this.yearNavigator && this.currentYear < this.yearOptions[0]) {\n            let difference = this.yearOptions[this.yearOptions.length - 1] - this.yearOptions[0];\n            this.populateYearOptions(this.yearOptions[0] - difference, this.yearOptions[this.yearOptions.length - 1] - difference);\n        }\n    }\n\n    incrementYear() {\n        this.currentYear++;\n\n        if (this.yearNavigator && this.currentYear > this.yearOptions[this.yearOptions.length - 1]) {\n            let difference = this.yearOptions[this.yearOptions.length - 1] - this.yearOptions[0];\n            this.populateYearOptions(this.yearOptions[0] + difference, this.yearOptions[this.yearOptions.length - 1] + difference);\n        }\n    }\n\n    onDateSelect(event, dateMeta) {\n        if (this.disabled || !dateMeta.selectable) {\n            event.preventDefault();\n            return;\n        }\n\n        if (this.isMultipleSelection() && this.isSelected(dateMeta)) {\n            this.value = this.value.filter((date, i) => {\n                return !this.isDateEquals(date, dateMeta);\n            });\n            if (this.value.length === 0) {\n                this.value = null;\n            }\n            this.updateModel(this.value);\n        }\n        else {\n            if (this.shouldSelectDate(dateMeta)) {\n                this.selectDate(dateMeta);\n            }\n        }\n\n        if (this.isSingleSelection() && this.hideOnDateTimeSelect) {\n            setTimeout(() => {\n                event.preventDefault();\n                this.hideOverlay();\n\n                if (this.mask) {\n                    this.disableModality();\n                }\n\n                this.cd.markForCheck();\n            }, 150);\n        }\n\n        this.updateInputfield();\n        event.preventDefault();\n    }\n\n    shouldSelectDate(dateMeta) {\n        if (this.isMultipleSelection())\n            return this.maxDateCount != null ? this.maxDateCount > (this.value ? this.value.length : 0) : true;\n        else\n            return true;\n    }\n\n    onMonthSelect(event, index) {\n        if (!DomHandler.hasClass(event.target, 'p-disabled')) {\n            this.onDateSelect(event, {year: this.currentYear, month: index, day: 1, selectable: true});\n        }\n    }\n\n    updateInputfield() {\n        let formattedValue = '';\n\n        if (this.value) {\n            if (this.isSingleSelection()) {\n                formattedValue = this.formatDateTime(this.value);\n            }\n            else if (this.isMultipleSelection()) {\n                for (let i = 0; i < this.value.length; i++) {\n                    let dateAsString = this.formatDateTime(this.value[i]);\n                    formattedValue += dateAsString;\n                    if (i !== (this.value.length - 1)) {\n                        formattedValue += this.multipleSeparator+' ';\n                    }\n                }\n            }\n            else if (this.isRangeSelection()) {\n                if (this.value && this.value.length) {\n                    let startDate = this.value[0];\n                    let endDate = this.value[1];\n\n                    formattedValue = this.formatDateTime(startDate);\n                    if (endDate) {\n                        formattedValue += ' '+this.rangeSeparator +' ' + this.formatDateTime(endDate);\n                    }\n                }\n            }\n        }\n\n        this.inputFieldValue = formattedValue;\n        this.updateFilledState();\n        if (this.inputfieldViewChild && this.inputfieldViewChild.nativeElement) {\n            this.inputfieldViewChild.nativeElement.value = this.inputFieldValue;\n        }\n    }\n\n    formatDateTime(date) {\n        let formattedValue = null;\n        if (date) {\n            if (this.timeOnly) {\n                formattedValue = this.formatTime(date);\n            }\n            else {\n                formattedValue = this.formatDate(date, this.getDateFormat());\n                if (this.showTime) {\n                    formattedValue += ' ' + this.formatTime(date);\n                }\n            }\n        }\n\n        return formattedValue;\n    }\n\n    setCurrentHourPM(hours: number) {\n        if (this.hourFormat == '12') {\n            this.pm = hours > 11;\n            if (hours >= 12) {\n                this.currentHour = (hours == 12) ? 12 : hours - 12;\n            }\n            else {\n                this.currentHour = (hours == 0) ? 12 : hours;\n            }\n        }\n        else {\n            this.currentHour = hours;\n        }\n    }\n\n    selectDate(dateMeta) {\n        let date = new Date(dateMeta.year, dateMeta.month, dateMeta.day);\n\n        if (this.showTime) {\n            if (this.hourFormat == '12') {\n                if (this.currentHour === 12)\n                    date.setHours(this.pm ? 12 : 0);\n                else\n                    date.setHours(this.pm ? this.currentHour + 12 : this.currentHour);\n            }\n            else {\n                date.setHours(this.currentHour);\n            }\n\n            date.setMinutes(this.currentMinute);\n            date.setSeconds(this.currentSecond);\n        }\n\n        if (this.minDate && this.minDate > date) {\n            date = this.minDate;\n            this.setCurrentHourPM(date.getHours());\n            this.currentMinute = date.getMinutes();\n            this.currentSecond = date.getSeconds();\n        }\n\n        if (this.maxDate && this.maxDate < date) {\n            date = this.maxDate;\n            this.setCurrentHourPM(date.getHours());\n            this.currentMinute = date.getMinutes();\n            this.currentSecond = date.getSeconds();\n        }\n\n        if (this.isSingleSelection()) {\n            this.updateModel(date);\n        }\n        else if (this.isMultipleSelection()) {\n            this.updateModel(this.value ? [...this.value, date] : [date]);\n        }\n        else if (this.isRangeSelection()) {\n            if (this.value && this.value.length) {\n                let startDate = this.value[0];\n                let endDate = this.value[1];\n\n                if (!endDate && date.getTime() >= startDate.getTime()) {\n                    endDate = date;\n                }\n                else {\n                    startDate = date;\n                    endDate = null;\n                }\n\n                this.updateModel([startDate, endDate]);\n            }\n            else {\n                this.updateModel([date, null]);\n            }\n        }\n\n        this.onSelect.emit(date);\n    }\n\n    updateModel(value) {\n        this.value = value;\n\n        if (this.dataType == 'date') {\n            this.onModelChange(this.value);\n        }\n        else if (this.dataType == 'string') {\n            if (this.isSingleSelection()) {\n                this.onModelChange(this.formatDateTime(this.value));\n            }\n            else {\n                let stringArrValue = null;\n                if (this.value) {\n                    stringArrValue = this.value.map(date => this.formatDateTime(date));\n                }\n                this.onModelChange(stringArrValue);\n            }\n        }\n    }\n\n    getFirstDayOfMonthIndex(month: number, year: number) {\n        let day = new Date();\n        day.setDate(1);\n        day.setMonth(month);\n        day.setFullYear(year);\n\n        let dayIndex = day.getDay() + this.getSundayIndex();\n        return dayIndex >= 7 ? dayIndex - 7 : dayIndex;\n    }\n\n    getDaysCountInMonth(month: number, year: number) {\n        return 32 - this.daylightSavingAdjust(new Date(year, month, 32)).getDate();\n    }\n\n    getDaysCountInPrevMonth(month: number, year: number) {\n        let prev = this.getPreviousMonthAndYear(month, year);\n        return this.getDaysCountInMonth(prev.month, prev.year);\n    }\n\n    getPreviousMonthAndYear(month: number, year: number) {\n        let m, y;\n\n        if (month === 0) {\n            m = 11;\n            y = year - 1;\n        }\n        else {\n            m = month - 1;\n            y = year;\n        }\n\n        return {'month':m,'year':y};\n    }\n\n    getNextMonthAndYear(month: number, year: number) {\n        let m, y;\n\n        if (month === 11) {\n            m = 0;\n            y = year + 1;\n        }\n        else {\n            m = month + 1;\n            y = year;\n        }\n\n        return {'month':m,'year':y};\n    }\n\n    getSundayIndex() {\n        let firstDayOfWeek = this.getFirstDateOfWeek();\n\n        return firstDayOfWeek > 0 ? 7 - firstDayOfWeek : 0;\n    }\n\n    isSelected(dateMeta): boolean {\n        if (this.value) {\n            if (this.isSingleSelection()) {\n                return this.isDateEquals(this.value, dateMeta);\n            }\n            else if (this.isMultipleSelection()) {\n                let selected = false;\n                for (let date of this.value) {\n                    selected = this.isDateEquals(date, dateMeta);\n                    if (selected) {\n                        break;\n                    }\n                }\n\n                return selected;\n            }\n            else if (this.isRangeSelection()) {\n                if (this.value[1])\n                    return this.isDateEquals(this.value[0], dateMeta) || this.isDateEquals(this.value[1], dateMeta) || this.isDateBetween(this.value[0], this.value[1], dateMeta);\n                else\n                    return this.isDateEquals(this.value[0], dateMeta)\n            }\n        }\n        else {\n            return false;\n        }\n    }\n\n    isMonthSelected(month: number): boolean {\n        let day = this.value ? (Array.isArray(this.value) ? this.value[0].getDate() : this.value.getDate()) : 1;\n        return this.isSelected({year: this.currentYear, month: month, day: day, selectable: true});\n    }\n\n    isDateEquals(value, dateMeta) {\n        if (value)\n            return value.getDate() === dateMeta.day && value.getMonth() === dateMeta.month && value.getFullYear() === dateMeta.year;\n        else\n            return false;\n    }\n\n    isDateBetween(start, end, dateMeta) {\n        let between : boolean = false;\n        if (start && end) {\n            let date: Date = new Date(dateMeta.year, dateMeta.month, dateMeta.day);\n            return start.getTime() <= date.getTime() && end.getTime() >= date.getTime();\n        }\n\n        return between;\n    }\n\n    isSingleSelection(): boolean {\n        return this.selectionMode === 'single';\n    }\n\n    isRangeSelection(): boolean {\n        return this.selectionMode === 'range';\n    }\n\n    isMultipleSelection(): boolean {\n        return this.selectionMode === 'multiple';\n    }\n\n    isToday(today, day, month, year): boolean {\n        return today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;\n    }\n\n    isSelectable(day, month, year, otherMonth): boolean {\n        let validMin = true;\n        let validMax = true;\n        let validDate = true;\n        let validDay = true;\n\n        if (otherMonth && !this.selectOtherMonths) {\n            return false;\n        }\n\n        if (this.minDate) {\n             if (this.minDate.getFullYear() > year) {\n                 validMin = false;\n             }\n             else if (this.minDate.getFullYear() === year) {\n                 if (this.minDate.getMonth() > month) {\n                     validMin = false;\n                 }\n                 else if (this.minDate.getMonth() === month) {\n                     if (this.minDate.getDate() > day) {\n                         validMin = false;\n                     }\n                 }\n             }\n        }\n\n        if (this.maxDate) {\n             if (this.maxDate.getFullYear() < year) {\n                 validMax = false;\n             }\n             else if (this.maxDate.getFullYear() === year) {\n                 if (this.maxDate.getMonth() < month) {\n                     validMax = false;\n                 }\n                 else if (this.maxDate.getMonth() === month) {\n                     if (this.maxDate.getDate() < day) {\n                         validMax = false;\n                     }\n                 }\n             }\n        }\n\n        if (this.disabledDates) {\n           validDate = !this.isDateDisabled(day,month,year);\n        }\n\n        if (this.disabledDays) {\n           validDay = !this.isDayDisabled(day,month,year)\n        }\n\n        return validMin && validMax && validDate && validDay;\n    }\n\n    isDateDisabled(day:number, month:number, year:number):boolean {\n        if (this.disabledDates) {\n            for (let disabledDate of this.disabledDates) {\n                if (disabledDate.getFullYear() === year && disabledDate.getMonth() === month && disabledDate.getDate() === day) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    isDayDisabled(day:number, month:number, year:number):boolean {\n        if (this.disabledDays) {\n            let weekday = new Date(year, month, day);\n            let weekdayNumber = weekday.getDay();\n            return this.disabledDays.indexOf(weekdayNumber) !== -1;\n        }\n        return false;\n    }\n\n    onInputFocus(event: Event) {\n        this.focus = true;\n        if (this.showOnFocus) {\n            this.showOverlay();\n        }\n        this.onFocus.emit(event);\n    }\n\n    onInputClick() {\n        if (this.overlay && this.autoZIndex) {\n            this.overlay.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n        }\n\n        if (this.showOnFocus && !this.overlayVisible) {\n            this.showOverlay();\n        }\n    }\n\n    onInputBlur(event: Event) {\n        this.focus = false;\n        this.onBlur.emit(event);\n        if (!this.keepInvalid) {\n            this.updateInputfield();\n        }\n        this.onModelTouched();\n    }\n\n    onButtonClick(event, inputfield) {\n        if (!this.overlayVisible) {\n            inputfield.focus();\n            this.showOverlay();\n        }\n        else {\n            this.hideOverlay();\n        }\n    }\n\n    onPrevButtonClick(event) {\n        this.navigationState = {backward: true, button: true};\n        this.navBackward(event);\n    }\n\n    onNextButtonClick(event) {\n        this.navigationState = {backward: false, button: true};\n        this.navForward(event);\n    }\n\n    onContainerButtonKeydown(event) {\n        switch (event.which) {\n           //tab\n           case 9:\n                if (!this.inline) {\n                    this.trapFocus(event);\n                }\n           break;\n\n           //escape\n           case 27:\n               this.overlayVisible = false;\n               event.preventDefault();\n           break;\n\n           default:\n               //Noop\n           break;\n        }\n   }\n\n    onInputKeydown(event) {\n        this.isKeydown = true;\n        if (event.keyCode === 40 && this.contentViewChild) {\n            this.trapFocus(event);\n        }\n        else if (event.keyCode === 27) {\n            if (this.overlayVisible) {\n                this.overlayVisible = false;\n                event.preventDefault();\n            }\n        }\n        else if (event.keyCode === 13) {\n            if (this.overlayVisible) {\n                this.overlayVisible = false;\n                event.preventDefault();\n            }\n        }\n        else if (event.keyCode === 9 && this.contentViewChild) {\n            DomHandler.getFocusableElements(this.contentViewChild.nativeElement).forEach(el => el.tabIndex = '-1');\n            if (this.overlayVisible) {\n                this.overlayVisible = false;\n            }\n        }\n    }\n\n    onDateCellKeydown(event, date, groupIndex) {\n        const cellContent = event.currentTarget;\n        const cell = cellContent.parentElement;\n\n        switch (event.which) {\n            //down arrow\n            case 40: {\n                cellContent.tabIndex = '-1';\n                let cellIndex = DomHandler.index(cell);\n                let nextRow = cell.parentElement.nextElementSibling;\n                if (nextRow) {\n                    let focusCell = nextRow.children[cellIndex].children[0];\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\n                        this.navigationState = {backward: false};\n                        this.navForward(event);\n                    }\n                    else {\n                        nextRow.children[cellIndex].children[0].tabIndex = '0';\n                        nextRow.children[cellIndex].children[0].focus();\n                    }\n                }\n                else {\n                    this.navigationState = {backward: false};\n                    this.navForward(event);\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //up arrow\n            case 38: {\n                cellContent.tabIndex = '-1';\n                let cellIndex = DomHandler.index(cell);\n                let prevRow = cell.parentElement.previousElementSibling;\n                if (prevRow) {\n                    let focusCell = prevRow.children[cellIndex].children[0];\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\n                        this.navigationState = {backward: true};\n                        this.navBackward(event);\n                    }\n                    else {\n                        focusCell.tabIndex = '0';\n                        focusCell.focus();\n                    }\n                }\n                else {\n                    this.navigationState = {backward: true};\n                    this.navBackward(event);\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //left arrow\n            case 37: {\n                cellContent.tabIndex = '-1';\n                let prevCell = cell.previousElementSibling;\n                if (prevCell) {\n                    let focusCell = prevCell.children[0];\n                    if (DomHandler.hasClass(focusCell, 'p-disabled') || DomHandler.hasClass(focusCell.parentElement, 'p-datepicker-weeknumber')) {\n                        this.navigateToMonth(true, groupIndex);\n                    }\n                    else {\n                        focusCell.tabIndex = '0';\n                        focusCell.focus();\n                    }\n                }\n                else {\n                    this.navigateToMonth(true, groupIndex);\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //right arrow\n            case 39: {\n                cellContent.tabIndex = '-1';\n                let nextCell = cell.nextElementSibling;\n                if (nextCell) {\n                    let focusCell = nextCell.children[0];\n                    if (DomHandler.hasClass(focusCell, 'p-disabled')) {\n                        this.navigateToMonth(false, groupIndex);\n                    }\n                    else {\n                        focusCell.tabIndex = '0';\n                        focusCell.focus();\n                    }\n                }\n                else {\n                    this.navigateToMonth(false, groupIndex);\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //enter\n            case 13: {\n                this.onDateSelect(event, date);\n                event.preventDefault();\n                break;\n            }\n\n            //escape\n            case 27: {\n                this.overlayVisible = false;\n                event.preventDefault();\n                break;\n            }\n\n            //tab\n            case 9: {\n                if (!this.inline) {\n                    this.trapFocus(event);\n                }\n                break;\n            }\n\n            default:\n                //no op\n            break;\n        }\n    }\n\n    onMonthCellKeydown(event, index) {\n        const cell = event.currentTarget;\n        switch (event.which) {\n            //arrows\n            case 38:\n            case 40: {\n                cell.tabIndex = '-1';\n                var cells = cell.parentElement.children;\n                var cellIndex = DomHandler.index(cell);\n                let nextCell = cells[event.which === 40 ? cellIndex + 3 : cellIndex -3];\n                if (nextCell) {\n                    nextCell.tabIndex = '0';\n                    nextCell.focus();\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //left arrow\n            case 37: {\n                cell.tabIndex = '-1';\n                let prevCell = cell.previousElementSibling;\n                if (prevCell) {\n                    prevCell.tabIndex = '0';\n                    prevCell.focus();\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //right arrow\n            case 39: {\n                cell.tabIndex = '-1';\n                let nextCell = cell.nextElementSibling;\n                if (nextCell) {\n                    nextCell.tabIndex = '0';\n                    nextCell.focus();\n                }\n                event.preventDefault();\n                break;\n            }\n\n            //enter\n            case 13: {\n                this.onMonthSelect(event, index);\n                event.preventDefault();\n                break;\n            }\n\n            //escape\n            case 27: {\n                this.overlayVisible = false;\n                event.preventDefault();\n                break;\n            }\n\n            //tab\n            case 9: {\n                if (!this.inline) {\n                    this.trapFocus(event);\n                }\n                break;\n            }\n\n            default:\n                //no op\n            break;\n        }\n    }\n\n    navigateToMonth(prev, groupIndex) {\n        if (prev) {\n            if (this.numberOfMonths === 1 || (groupIndex === 0)) {\n                this.navigationState = {backward: true};\n                this.navBackward(event);\n            }\n            else {\n                let prevMonthContainer = this.contentViewChild.nativeElement.children[groupIndex - 1];\n                let cells = DomHandler.find(prevMonthContainer, '.p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)');\n                let focusCell = cells[cells.length - 1];\n                focusCell.tabIndex = '0';\n                focusCell.focus();\n            }\n        }\n        else {\n            if (this.numberOfMonths === 1 || (groupIndex === this.numberOfMonths - 1)) {\n                this.navigationState = {backward: false};\n                this.navForward(event);\n            }\n            else {\n                let nextMonthContainer = this.contentViewChild.nativeElement.children[groupIndex + 1];\n                let focusCell = DomHandler.findSingle(nextMonthContainer, '.p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)');\n                focusCell.tabIndex = '0';\n                focusCell.focus();\n            }\n        }\n    }\n\n    updateFocus() {\n        let cell;\n        if (this.navigationState) {\n            if (this.navigationState.button) {\n                this.initFocusableCell();\n\n                if (this.navigationState.backward)\n                    DomHandler.findSingle(this.contentViewChild.nativeElement, '.p-datepicker-prev').focus();\n                else\n                    DomHandler.findSingle(this.contentViewChild.nativeElement, '.p-datepicker-next').focus();\n            }\n            else {\n                if (this.navigationState.backward) {\n                    let cells = DomHandler.find(this.contentViewChild.nativeElement, '.p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)');\n                    cell = cells[cells.length - 1];\n                }\n                else {\n                    cell = DomHandler.findSingle(this.contentViewChild.nativeElement, '.p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)');\n                }\n\n                if (cell) {\n                    cell.tabIndex = '0';\n                    cell.focus();\n                }\n            }\n\n            this.navigationState = null;\n        }\n        else {\n            this.initFocusableCell();\n        }\n    }\n\n    initFocusableCell() {\n        let cell;\n        if (this.view === 'month') {\n            let cells = DomHandler.find(this.contentViewChild.nativeElement, '.p-monthpicker .p-monthpicker-month:not(.p-disabled)');\n            let selectedCell= DomHandler.findSingle(this.contentViewChild.nativeElement, '.p-monthpicker .p-monthpicker-month.p-highlight');\n            cells.forEach(cell => cell.tabIndex = -1);\n            cell = selectedCell || cells[0];\n\n            if (cells.length === 0) {\n                let disabledCells = DomHandler.find(this.contentViewChild.nativeElement, '.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = \"0\"]');\n                disabledCells.forEach(cell => cell.tabIndex = -1);\n            }\n        }\n        else {\n            cell = DomHandler.findSingle(this.contentViewChild.nativeElement, 'span.p-highlight');\n            if (!cell) {\n                let todayCell = DomHandler.findSingle(this.contentViewChild.nativeElement, 'td.p-datepicker-today span:not(.p-disabled):not(.p-ink)');\n                if (todayCell)\n                    cell = todayCell;\n                else\n                    cell = DomHandler.findSingle(this.contentViewChild.nativeElement, '.p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)');\n            }\n        }\n\n        if (cell) {\n            cell.tabIndex = '0';\n        }\n    }\n\n    trapFocus(event) {\n        let focusableElements = DomHandler.getFocusableElements(this.contentViewChild.nativeElement);\n\n        if (focusableElements && focusableElements.length > 0) {\n            if (!focusableElements[0].ownerDocument.activeElement) {\n                focusableElements[0].focus();\n            }\n            else {\n                let focusedIndex = focusableElements.indexOf(focusableElements[0].ownerDocument.activeElement);\n\n                if (event.shiftKey) {\n                    if (focusedIndex == -1 || focusedIndex === 0) {\n                        if (this.focusTrap){\n                            focusableElements[focusableElements.length - 1].focus();\n                        }\n                        else {\n                            if (focusedIndex === -1)\n                                return this.hideOverlay();\n                            else if (focusedIndex === 0)\n                                return;\n                        }\n                    }\n                    else {\n                        focusableElements[focusedIndex - 1].focus();\n                    }\n                }\n                else {\n                    if (focusedIndex == -1 || focusedIndex === (focusableElements.length - 1)) {\n                        if (!this.focusTrap && focusedIndex != -1)\n                            return this.hideOverlay();\n                        else\n                            focusableElements[0].focus();\n                    }\n                    else {\n                        focusableElements[focusedIndex + 1].focus();\n                    }\n                }\n            }\n        }\n\n        event.preventDefault();\n    }\n\n    onMonthDropdownChange(m: string) {\n        this.currentMonth = parseInt(m);\n        this.onMonthChange.emit({ month: this.currentMonth + 1, year: this.currentYear });\n        this.createMonths(this.currentMonth, this.currentYear);\n    }\n\n    onYearDropdownChange(y: string) {\n        this.currentYear = parseInt(y);\n        this.onYearChange.emit({ month: this.currentMonth + 1, year: this.currentYear });\n        this.createMonths(this.currentMonth, this.currentYear);\n    }\n\n    convertTo24Hour = function (hours: number, pm: boolean) {\n        if (this.hourFormat == '12') {\n            if (hours === 12) {\n                return (pm ? 12 : 0);\n            } else {\n                return (pm ? hours + 12 : hours);\n            }\n        }\n        return hours;\n    }\n\n    validateTime(hour: number, minute: number, second: number, pm: boolean) {\n        let value = this.value;\n        const convertedHour = this.convertTo24Hour(hour, pm);\n        if (this.isRangeSelection()) {\n            value = this.value[1] || this.value[0];\n        }\n        if (this.isMultipleSelection()) {\n            value = this.value[this.value.length - 1];\n        }\n        const valueDateString = value ? value.toDateString() : null;\n        if (this.minDate && valueDateString && this.minDate.toDateString() === valueDateString) {\n            if (this.minDate.getHours() > convertedHour) {\n                return false;\n            }\n            if (this.minDate.getHours() === convertedHour) {\n                if (this.minDate.getMinutes() > minute) {\n                    return false;\n                }\n                if (this.minDate.getMinutes() === minute) {\n                    if (this.minDate.getSeconds() > second) {\n                        return false;\n                    }\n                }\n            }\n        }\n\n      if (this.maxDate && valueDateString && this.maxDate.toDateString() === valueDateString) {\n            if (this.maxDate.getHours() < convertedHour) {\n                return false;\n            }\n            if (this.maxDate.getHours() === convertedHour) {\n                if (this.maxDate.getMinutes() < minute) {\n                    return false;\n                }\n                if (this.maxDate.getMinutes() === minute) {\n                  if (this.maxDate.getSeconds() < second) {\n                      return false;\n                  }\n                }\n            }\n        }\n        return true;\n    }\n\n\n    incrementHour(event) {\n        const prevHour = this.currentHour;\n        let newHour = this.currentHour + this.stepHour;\n        let newPM = this.pm;\n\n        if (this.hourFormat == '24')\n            newHour = (newHour >= 24) ? (newHour - 24) : newHour;\n        else if (this.hourFormat == '12') {\n            // Before the AM/PM break, now after\n            if (prevHour < 12 && newHour > 11) {\n                newPM= !this.pm;\n            }\n            newHour = (newHour >= 13) ? (newHour - 12) : newHour;\n        }\n\n        if (this.validateTime(newHour, this.currentMinute, this.currentSecond, newPM)) {\n          this.currentHour = newHour;\n          this.pm = newPM;\n        }\n        event.preventDefault();\n    }\n\n    onTimePickerElementMouseDown(event: Event, type: number, direction: number) {\n        if (!this.disabled) {\n            this.repeat(event, null, type, direction);\n            event.preventDefault();\n        }\n    }\n\n    onTimePickerElementMouseUp(event: Event) {\n        if (!this.disabled) {\n            this.clearTimePickerTimer();\n            this.updateTime();\n        }\n    }\n\n    onTimePickerElementMouseLeave() {\n        if (!this.disabled && this.timePickerTimer) {\n            this.clearTimePickerTimer();\n            this.updateTime();\n        }\n    }\n\n    repeat(event: Event, interval: number, type: number, direction: number) {\n        let i = interval||500;\n\n        this.clearTimePickerTimer();\n        this.timePickerTimer = setTimeout(() => {\n            this.repeat(event, 100, type, direction);\n            this.cd.markForCheck();\n        }, i);\n\n        switch(type) {\n            case 0:\n                if (direction === 1)\n                    this.incrementHour(event);\n                else\n                    this.decrementHour(event);\n            break;\n\n            case 1:\n                if (direction === 1)\n                    this.incrementMinute(event);\n                else\n                    this.decrementMinute(event);\n            break;\n\n            case 2:\n                if (direction === 1)\n                    this.incrementSecond(event);\n                else\n                    this.decrementSecond(event);\n            break;\n        }\n\n        this.updateInputfield();\n    }\n\n    clearTimePickerTimer() {\n        if (this.timePickerTimer) {\n            clearTimeout(this.timePickerTimer);\n            this.timePickerTimer = null;\n        }\n    }\n\n    decrementHour(event) {\n        let newHour = this.currentHour - this.stepHour;\n        let newPM = this.pm\n\n        if (this.hourFormat == '24')\n            newHour = (newHour < 0) ? (24 + newHour) : newHour;\n        else if (this.hourFormat == '12') {\n            // If we were at noon/midnight, then switch\n            if (this.currentHour === 12) {\n                newPM = !this.pm;\n            }\n            newHour = (newHour <= 0) ? (12 + newHour) : newHour;\n        }\n\n        if (this.validateTime(newHour, this.currentMinute, this.currentSecond, newPM)) {\n          this.currentHour = newHour;\n          this.pm = newPM;\n        }\n\n        event.preventDefault();\n    }\n\n    incrementMinute(event) {\n        let newMinute = this.currentMinute + this.stepMinute;\n        newMinute = (newMinute > 59) ? newMinute - 60 : newMinute;\n        if (this.validateTime(this.currentHour, newMinute, this.currentSecond, this.pm)) {\n            this.currentMinute = newMinute;\n        }\n\n        event.preventDefault();\n    }\n\n    decrementMinute(event) {\n        let newMinute = this.currentMinute - this.stepMinute;\n        newMinute = (newMinute < 0) ? 60 + newMinute : newMinute;\n        if (this.validateTime(this.currentHour, newMinute, this.currentSecond, this.pm)) {\n            this.currentMinute = newMinute;\n        }\n\n        event.preventDefault();\n    }\n\n    incrementSecond(event) {\n        let newSecond = this.currentSecond + this.stepSecond;\n        newSecond = (newSecond > 59) ? newSecond - 60 : newSecond;\n        if (this.validateTime(this.currentHour, this.currentMinute, newSecond, this.pm)) {\n            this.currentSecond = newSecond;\n        }\n\n        event.preventDefault();\n    }\n\n    decrementSecond(event) {\n        let newSecond = this.currentSecond - this.stepSecond;\n        newSecond = (newSecond < 0) ? 60 + newSecond : newSecond;\n        if (this.validateTime(this.currentHour, this.currentMinute, newSecond, this.pm)) {\n            this.currentSecond = newSecond;\n        }\n\n        event.preventDefault();\n    }\n\n    updateTime() {\n        let value = this.value;\n        if (this.isRangeSelection()) {\n            value = this.value[1] || this.value[0];\n        }\n        if (this.isMultipleSelection()) {\n            value = this.value[this.value.length - 1];\n        }\n        value = value ? new Date(value.getTime()) : new Date();\n\n        if (this.hourFormat == '12') {\n            if (this.currentHour === 12)\n                value.setHours(this.pm ? 12 : 0);\n            else\n                value.setHours(this.pm ? this.currentHour + 12 : this.currentHour);\n        }\n        else {\n            value.setHours(this.currentHour);\n        }\n\n        value.setMinutes(this.currentMinute);\n        value.setSeconds(this.currentSecond);\n        if (this.isRangeSelection()) {\n            if (this.value[1])\n                value = [this.value[0], value];\n            else\n                value = [value, null];\n        }\n\n        if (this.isMultipleSelection()){\n            value = [...this.value.slice(0, -1), value];\n        }\n\n        this.updateModel(value);\n        this.onSelect.emit(value);\n        this.updateInputfield();\n    }\n\n    toggleAMPM(event) {\n        const newPM = !this.pm;\n        if (this.validateTime(this.currentHour, this.currentMinute, this.currentSecond, newPM)) {\n          this.pm = newPM;\n          this.updateTime();\n        }\n        event.preventDefault();\n    }\n\n    onUserInput(event) {\n        // IE 11 Workaround for input placeholder : https://github.com/primefaces/primeng/issues/2026\n        if (!this.isKeydown) {\n            return;\n        }\n        this.isKeydown = false;\n\n        let val = event.target.value;\n        try {\n            let value = this.parseValueFromString(val);\n            if (this.isValidSelection(value)) {\n                this.updateModel(value);\n                this.updateUI();\n            }\n        }\n        catch(err) {\n            //invalid date\n            this.updateModel(null);\n        }\n\n        this.filled = val != null && val.length;\n        this.onInput.emit(event);\n    }\n\n    isValidSelection(value): boolean {\n        let isValid = true;\n        if (this.isSingleSelection()) {\n            if (!this.isSelectable(value.getDate(), value.getMonth(), value.getFullYear(), false)) {\n                isValid = false;\n            }\n        } else if (value.every(v => this.isSelectable(v.getDate(), v.getMonth(), v.getFullYear(), false))) {\n            if (this.isRangeSelection()) {\n                isValid = value.length > 1 && value[1] > value[0] ? true : false;\n            }\n        }\n        return isValid;\n    }\n\n    parseValueFromString(text: string): Date | Date[]{\n        if (!text || text.trim().length === 0) {\n            return null;\n        }\n\n        let value: any;\n\n        if (this.isSingleSelection()) {\n            value = this.parseDateTime(text);\n        }\n        else if (this.isMultipleSelection()) {\n            let tokens = text.split(this.multipleSeparator);\n            value = [];\n            for (let token of tokens) {\n                value.push(this.parseDateTime(token.trim()));\n            }\n        }\n        else if (this.isRangeSelection()) {\n            let tokens = text.split(' '+this.rangeSeparator +' ');\n            value = [];\n            for (let i = 0; i < tokens.length; i++) {\n                value[i] = this.parseDateTime(tokens[i].trim());\n            }\n        }\n\n        return value;\n    }\n\n    parseDateTime(text): Date {\n        let date: Date;\n        let parts: string[] = text.split(' ');\n\n        if (this.timeOnly) {\n            date = new Date();\n            this.populateTime(date, parts[0], parts[1]);\n        }\n        else {\n            const dateFormat = this.getDateFormat();\n            if (this.showTime) {\n                let ampm = this.hourFormat == '12' ? parts.pop() : null;\n                let timeString = parts.pop();\n\n                date = this.parseDate(parts.join(' '), dateFormat);\n                this.populateTime(date, timeString, ampm);\n            }\n            else {\n                 date = this.parseDate(text, dateFormat);\n            }\n        }\n\n        return date;\n    }\n\n    populateTime(value, timeString, ampm) {\n        if (this.hourFormat == '12' && !ampm) {\n            throw 'Invalid Time';\n        }\n\n        this.pm = (ampm === 'PM' || ampm === 'pm');\n        let time = this.parseTime(timeString);\n        value.setHours(time.hour);\n        value.setMinutes(time.minute);\n        value.setSeconds(time.second);\n    }\n\n    updateUI() {\n        let val = this.value||this.defaultDate||new Date();\n        if (Array.isArray(val)){\n            val = val[0];\n        }\n\n        this.currentMonth = val.getMonth();\n        this.currentYear = val.getFullYear();\n        this.createMonths(this.currentMonth, this.currentYear);\n\n        if (this.showTime||this.timeOnly) {\n            this.setCurrentHourPM(val.getHours());\n            this.currentMinute = val.getMinutes();\n            this.currentSecond = val.getSeconds();\n        }\n    }\n\n    showOverlay() {\n        if (!this.overlayVisible) {\n            this.updateUI();\n            this.overlayVisible = true;\n        }\n    }\n\n    hideOverlay() {\n        this.overlayVisible = false;\n        this.clearTimePickerTimer();\n\n        if (this.touchUI) {\n            this.disableModality();\n        }\n\n        this.cd.markForCheck();\n    }\n\n    toggle() {\n        if (!this.inline){\n            if (!this.overlayVisible) {\n                this.showOverlay();\n                this.inputfieldViewChild.nativeElement.focus();\n            }\n            else {\n                this.hideOverlay();\n            }\n        }\n    }\n\n    onOverlayAnimationStart(event: AnimationEvent) {\n        switch (event.toState) {\n            case 'visible':\n            case 'visibleTouchUI':\n                if (!this.inline) {\n                    this.overlay = event.element;\n                    this.appendOverlay();\n                    if (this.autoZIndex) {\n                        this.overlay.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n                    }\n                    this.alignOverlay();\n                    this.onShow.emit(event);\n                }\n            break;\n\n            case 'void':\n                this.onOverlayHide();\n                this.onClose.emit(event);\n            break;\n        }\n    }\n\n    onOverlayAnimationDone(event: AnimationEvent) {\n        switch (event.toState) {\n            case 'visible':\n            case 'visibleTouchUI':\n                if (!this.inline) {\n                    this.bindDocumentClickListener();\n                    this.bindDocumentResizeListener();\n                    this.bindScrollListener();\n                }\n            break;\n        }\n    }\n\n    appendOverlay() {\n        if (this.appendTo) {\n            if (this.appendTo === 'body')\n                document.body.appendChild(this.overlay);\n            else\n                DomHandler.appendChild(this.overlay, this.appendTo);\n        }\n    }\n\n    restoreOverlayAppend() {\n        if (this.overlay && this.appendTo) {\n            this.el.nativeElement.appendChild(this.overlay);\n        }\n    }\n\n    alignOverlay() {\n        if (this.touchUI) {\n            this.enableModality(this.overlay);\n        }\n        else {\n            if (this.appendTo)\n                DomHandler.absolutePosition(this.overlay, this.inputfieldViewChild.nativeElement);\n            else\n                DomHandler.relativePosition(this.overlay, this.inputfieldViewChild.nativeElement);\n        }\n    }\n\n    enableModality(element) {\n        if (!this.mask) {\n            this.mask = document.createElement('div');\n            this.mask.style.zIndex = String(parseInt(element.style.zIndex) - 1);\n            let maskStyleClass = 'p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker';\n            DomHandler.addMultipleClasses(this.mask, maskStyleClass);\n\n\t\t\tthis.maskClickListener = this.renderer.listen(this.mask, 'click', (event: any) => {\n                this.disableModality();\n            });\n            document.body.appendChild(this.mask);\n            DomHandler.addClass(document.body, 'p-overflow-hidden');\n        }\n    }\n\n    disableModality() {\n        if (this.mask) {\n            document.body.removeChild(this.mask);\n            let bodyChildren = document.body.children;\n            let hasBlockerMasks: boolean;\n            for (let i = 0; i < bodyChildren.length; i++) {\n                let bodyChild = bodyChildren[i];\n                if (DomHandler.hasClass(bodyChild, 'p-datepicker-mask-scrollblocker')) {\n                    hasBlockerMasks = true;\n                    break;\n                }\n            }\n\n            if (!hasBlockerMasks) {\n                DomHandler.removeClass(document.body, 'p-overflow-hidden');\n            }\n\n            this.unbindMaskClickListener();\n\n            this.mask = null;\n        }\n    }\n\n    unbindMaskClickListener() {\n        if (this.maskClickListener) {\n            this.maskClickListener();\n            this.maskClickListener = null;\n\t\t}\n    }\n\n    writeValue(value: any) : void {\n        this.value = value;\n        if (this.value && typeof this.value === 'string') {\n            this.value = this.parseValueFromString(this.value);\n        }\n\n        this.updateInputfield();\n        this.updateUI();\n        this.cd.markForCheck();\n    }\n\n    registerOnChange(fn: Function): void {\n        this.onModelChange = fn;\n    }\n\n    registerOnTouched(fn: Function): void {\n        this.onModelTouched = fn;\n    }\n\n    setDisabledState(val: boolean): void {\n        this.disabled = val;\n        this.cd.markForCheck();\n    }\n\n    getDateFormat() {\n        return this.dateFormat;\n    }\n\n    getFirstDateOfWeek() {\n        return this._firstDayOfWeek||this.getTranslation(TranslationKeys.FIRST_DAY_OF_WEEK);\n    }\n\n    // Ported from jquery-ui datepicker formatDate\n    formatDate(date, format) {\n        if (!date) {\n            return '';\n        }\n\n        let iFormat;\n        const lookAhead = (match) => {\n            const matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\n            if (matches) {\n                iFormat++;\n            }\n            return matches;\n        },\n            formatNumber = (match, value, len) => {\n                let num = '' + value;\n                if (lookAhead(match)) {\n                    while (num.length < len) {\n                        num = '0' + num;\n                    }\n                }\n                return num;\n            },\n            formatName = (match, value, shortNames, longNames) => {\n                return (lookAhead(match) ? longNames[value] : shortNames[value]);\n            };\n        let output = '';\n        let literal = false;\n\n        if (date) {\n            for (iFormat = 0; iFormat < format.length; iFormat++) {\n                if (literal) {\n                    if (format.charAt(iFormat) === '\\'' && !lookAhead('\\'')) {\n                        literal = false;\n                    } else {\n                        output += format.charAt(iFormat);\n                    }\n                } else {\n                    switch (format.charAt(iFormat)) {\n                        case 'd':\n                            output += formatNumber('d', date.getDate(), 2);\n                            break;\n                        case 'D':\n                            output += formatName('D', date.getDay(), this.getTranslation(TranslationKeys.DAY_NAMES_SHORT), this.getTranslation(TranslationKeys.DAY_NAMES));\n                            break;\n                        case 'o':\n                            output += formatNumber('o',\n                            Math.round((\n                                new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() -\n                                new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);\n                            break;\n                        case 'm':\n                            output += formatNumber('m', date.getMonth() + 1, 2);\n                            break;\n                        case 'M':\n                            output += formatName('M',date.getMonth(), this.getTranslation(TranslationKeys.MONTH_NAMES_SHORT), this.getTranslation(TranslationKeys.MONTH_NAMES));\n                            break;\n                        case 'y':\n                            output += lookAhead('y') ? date.getFullYear() : (date.getFullYear() % 100 < 10 ? '0' : '') + (date.getFullYear() % 100);\n                            break;\n                        case '@':\n                            output += date.getTime();\n                            break;\n                        case '!':\n                            output += date.getTime() * 10000 + this.ticksTo1970;\n                            break;\n                        case '\\'':\n                            if (lookAhead('\\'')) {\n                                output += '\\'';\n                            } else {\n                                literal = true;\n                            }\n                            break;\n                        default:\n                            output += format.charAt(iFormat);\n                    }\n                }\n            }\n        }\n        return output;\n    }\n\n    formatTime(date) {\n        if (!date) {\n            return '';\n        }\n\n        let output = '';\n        let hours = date.getHours();\n        let minutes = date.getMinutes();\n        let seconds = date.getSeconds();\n\n        if (this.hourFormat == '12' && hours > 11 && hours != 12) {\n            hours-=12;\n        }\n\n        if (this.hourFormat == '12') {\n            output += hours === 0 ? 12 : (hours < 10) ? '0' + hours : hours;\n        } else {\n            output += (hours < 10) ? '0' + hours : hours;\n        }\n        output += ':';\n        output += (minutes < 10) ? '0' + minutes : minutes;\n\n        if (this.showSeconds) {\n            output += ':';\n            output += (seconds < 10) ? '0' + seconds : seconds;\n        }\n\n        if (this.hourFormat == '12') {\n            output += date.getHours() > 11 ? ' PM' : ' AM';\n        }\n\n        return output;\n    }\n\n    parseTime(value) {\n        let tokens: string[] = value.split(':');\n        let validTokenLength = this.showSeconds ? 3 : 2;\n\n        if (tokens.length !== validTokenLength) {\n            throw \"Invalid time\";\n        }\n\n        let h = parseInt(tokens[0]);\n        let m = parseInt(tokens[1]);\n        let s = this.showSeconds ? parseInt(tokens[2]) : null;\n\n        if (isNaN(h) || isNaN(m) || h > 23 || m > 59 || (this.hourFormat == '12' && h > 12) || (this.showSeconds && (isNaN(s) || s > 59))) {\n            throw \"Invalid time\";\n        }\n        else {\n            if (this.hourFormat == '12') {\n                if (h !== 12 && this.pm) {\n                    h += 12;\n                }\n                else if (!this.pm && h === 12) {\n                    h -= 12;\n                }\n            }\n\n            return {hour: h, minute: m, second: s};\n        }\n    }\n\n    // Ported from jquery-ui datepicker parseDate\n    parseDate(value, format) {\n        if (format == null || value == null) {\n            throw \"Invalid arguments\";\n        }\n\n        value = (typeof value === \"object\" ? value.toString() : value + \"\");\n        if (value === \"\") {\n            return null;\n        }\n\n        let iFormat, dim, extra,\n        iValue = 0,\n        shortYearCutoff = (typeof this.shortYearCutoff !== \"string\" ? this.shortYearCutoff : new Date().getFullYear() % 100 + parseInt(this.shortYearCutoff, 10)),\n        year = -1,\n        month = -1,\n        day = -1,\n        doy = -1,\n        literal = false,\n        date,\n        lookAhead = (match) => {\n            let matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);\n            if (matches) {\n                iFormat++;\n            }\n            return matches;\n        },\n        getNumber = (match) => {\n            let isDoubled = lookAhead(match),\n                size = (match === \"@\" ? 14 : (match === \"!\" ? 20 :\n                (match === \"y\" && isDoubled ? 4 : (match === \"o\" ? 3 : 2)))),\n                minSize = (match === \"y\" ? size : 1),\n                digits = new RegExp(\"^\\\\d{\" + minSize + \",\" + size + \"}\"),\n                num = value.substring(iValue).match(digits);\n            if (!num) {\n                throw \"Missing number at position \" + iValue;\n            }\n            iValue += num[ 0 ].length;\n            return parseInt(num[ 0 ], 10);\n        },\n        getName = (match, shortNames, longNames) => {\n            let index = -1;\n            let arr = lookAhead(match) ? longNames : shortNames;\n            let names = [];\n\n            for (let i = 0; i < arr.length; i++) {\n                names.push([i,arr[i]]);\n            }\n            names.sort((a,b) => {\n                return -(a[ 1 ].length - b[ 1 ].length);\n            });\n\n            for (let i = 0; i < names.length; i++) {\n                let name = names[i][1];\n                if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {\n                    index = names[i][0];\n                    iValue += name.length;\n                    break;\n                }\n            }\n\n            if (index !== -1) {\n                return index + 1;\n            } else {\n                throw \"Unknown name at position \" + iValue;\n            }\n        },\n        checkLiteral = () => {\n            if (value.charAt(iValue) !== format.charAt(iFormat)) {\n                throw \"Unexpected literal at position \" + iValue;\n            }\n            iValue++;\n        };\n\n        if (this.view === 'month') {\n            day = 1;\n        }\n\n        for (iFormat = 0; iFormat < format.length; iFormat++) {\n            if (literal) {\n                if (format.charAt(iFormat) === \"'\" && !lookAhead(\"'\")) {\n                    literal = false;\n                } else {\n                    checkLiteral();\n                }\n            } else {\n                switch (format.charAt(iFormat)) {\n                    case \"d\":\n                        day = getNumber(\"d\");\n                        break;\n                    case \"D\":\n                        getName(\"D\", this.getTranslation(TranslationKeys.DAY_NAMES_SHORT), this.getTranslation(TranslationKeys.DAY_NAMES));\n                        break;\n                    case \"o\":\n                        doy = getNumber(\"o\");\n                        break;\n                    case \"m\":\n                        month = getNumber(\"m\");\n                        break;\n                    case \"M\":\n                        month = getName(\"M\", this.getTranslation(TranslationKeys.MONTH_NAMES_SHORT), this.getTranslation(TranslationKeys.MONTH_NAMES));\n                        break;\n                    case \"y\":\n                        year = getNumber(\"y\");\n                        break;\n                    case \"@\":\n                        date = new Date(getNumber(\"@\"));\n                        year = date.getFullYear();\n                        month = date.getMonth() + 1;\n                        day = date.getDate();\n                        break;\n                    case \"!\":\n                        date = new Date((getNumber(\"!\") - this.ticksTo1970) / 10000);\n                        year = date.getFullYear();\n                        month = date.getMonth() + 1;\n                        day = date.getDate();\n                        break;\n                    case \"'\":\n                        if (lookAhead(\"'\")) {\n                            checkLiteral();\n                        } else {\n                            literal = true;\n                        }\n                        break;\n                    default:\n                        checkLiteral();\n                }\n            }\n        }\n\n        if (iValue < value.length) {\n            extra = value.substr(iValue);\n            if (!/^\\s+/.test(extra)) {\n                throw \"Extra/unparsed characters found in date: \" + extra;\n            }\n        }\n\n        if (year === -1) {\n            year = new Date().getFullYear();\n        } else if (year < 100) {\n            year += new Date().getFullYear() - new Date().getFullYear() % 100 +\n                (year <= shortYearCutoff ? 0 : -100);\n        }\n\n        if (doy > -1) {\n            month = 1;\n            day = doy;\n            do {\n                dim = this.getDaysCountInMonth(year, month - 1);\n                if (day <= dim) {\n                    break;\n                }\n                month++;\n                day -= dim;\n            } while (true);\n        }\n\n        date = this.daylightSavingAdjust(new Date(year, month - 1, day));\n                if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {\n                    throw \"Invalid date\"; // E.g. 31/02/00\n                }\n\n        return date;\n    }\n\n    daylightSavingAdjust(date) {\n        if (!date) {\n            return null;\n        }\n\n        date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);\n\n        return date;\n    }\n\n    updateFilledState() {\n        this.filled = this.inputFieldValue && this.inputFieldValue != '';\n    }\n\n    onTodayButtonClick(event) {\n        let date: Date = new Date();\n        let dateMeta = {day: date.getDate(), month: date.getMonth(), year: date.getFullYear(), otherMonth: date.getMonth() !== this.currentMonth || date.getFullYear() !== this.currentYear, today: true, selectable: true};\n\n        this.onDateSelect(event, dateMeta);\n        this.onTodayClick.emit(event);\n    }\n\n    onClearButtonClick(event) {\n        this.updateModel(null);\n        this.updateInputfield();\n        this.hideOverlay();\n        this.onClearClick.emit(event);\n    }\n\n    bindDocumentClickListener() {\n        if (!this.documentClickListener) {\n            this.zone.runOutsideAngular(() => {\n                const documentTarget: any = this.el ? this.el.nativeElement.ownerDocument : 'document';\n\n                this.documentClickListener = this.renderer.listen(documentTarget, 'click', (event) => {\n                    if (this.isOutsideClicked(event) && this.overlayVisible) {\n                        this.zone.run(() => {\n                            this.hideOverlay();\n                            this.onClickOutside.emit(event);\n\n                            this.cd.markForCheck();\n                        });\n                    }\n\n                });\n            });\n        }\n    }\n\n    unbindDocumentClickListener() {\n        if (this.documentClickListener) {\n            this.documentClickListener();\n            this.documentClickListener = null;\n        }\n    }\n\n    bindDocumentResizeListener() {\n        if (!this.documentResizeListener && !this.touchUI) {\n            this.documentResizeListener = this.onWindowResize.bind(this);\n            window.addEventListener('resize', this.documentResizeListener);\n        }\n    }\n\n    unbindDocumentResizeListener() {\n        if (this.documentResizeListener) {\n            window.removeEventListener('resize', this.documentResizeListener);\n            this.documentResizeListener = null;\n        }\n    }\n\n    bindScrollListener() {\n        if (!this.scrollHandler) {\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.containerViewChild.nativeElement, () => {\n                if (this.overlayVisible) {\n                    this.hideOverlay();\n                }\n            });\n        }\n\n        this.scrollHandler.bindScrollListener();\n    }\n\n    unbindScrollListener() {\n        if (this.scrollHandler) {\n            this.scrollHandler.unbindScrollListener();\n        }\n    }\n\n    isOutsideClicked(event: Event) {\n        return !(this.el.nativeElement.isSameNode(event.target) || this.isNavIconClicked(event) ||\n                this.el.nativeElement.contains(event.target) || (this.overlay && this.overlay.contains(<Node> event.target)));\n    }\n\n    isNavIconClicked(event: Event) {\n        return (DomHandler.hasClass(event.target, 'p-datepicker-prev') || DomHandler.hasClass(event.target, 'p-datepicker-prev-icon')\n                || DomHandler.hasClass(event.target, 'p-datepicker-next') || DomHandler.hasClass(event.target, 'p-datepicker-next-icon'));\n    }\n\n    onWindowResize() {\n        if (this.overlayVisible && !DomHandler.isAndroid()) {\n            this.hideOverlay();\n        }\n    }\n\n    onOverlayHide() {\n        this.unbindDocumentClickListener();\n        this.unbindMaskClickListener();\n        this.unbindDocumentResizeListener();\n        this.unbindScrollListener();\n        this.overlay = null;\n        this.disableModality();\n    }\n\n    ngOnDestroy() {\n        if (this.scrollHandler) {\n            this.scrollHandler.destroy();\n            this.scrollHandler = null;\n        }\n\n        if (this.translationSubscription) {\n            this.translationSubscription.unsubscribe();\n        }\n\n        this.clearTimePickerTimer();\n        this.restoreOverlayAppend();\n        this.onOverlayHide();\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,ButtonModule,SharedModule,RippleModule],\n    exports: [Calendar,ButtonModule,SharedModule],\n    declarations: [Calendar]\n})\nexport class CalendarModule { }\n"]}