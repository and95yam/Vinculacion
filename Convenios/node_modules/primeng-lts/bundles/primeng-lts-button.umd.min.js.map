{"version":3,"sources":["../../src/app/components/button/button.ts"],"names":["ButtonDirective","el","this","iconPos","loadingIcon","_loading","prototype","ngAfterViewInit","_initialStyleClass","nativeElement","className","DomHandler","addMultipleClasses","getStyleClass","icon","createIconEl","labelElement","document","createElement","label","setAttribute","appendChild","createTextNode","innerHTML","initialized","styleClass","loading","setStyleClass","iconElement","iconPosClass","addClass","iconClass","getIconClass","labelEl","findSingle","insertBefore","_icon","setIconClass","removeIconElement","removeChild","Object","defineProperty","_label","val","textContent","ngOnDestroy","Directive","args","selector","ElementRef","Input","Button","type","onClick","EventEmitter","onFocus","onBlur","ngAfterContentInit","_this","templates","forEach","item","getType","contentTemplate","template","badgeStyleClass","p-badge p-component","p-badge-no-gutter","badge","String","length","Component","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","ContentChildren","PrimeTemplate","Output","NgModule","imports","CommonModule","RippleModule","exports","declarations"],"mappings":"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","sourcesContent":["import {NgModule,Directive,Component,ElementRef,EventEmitter,AfterViewInit,Output,OnDestroy,Input,ChangeDetectionStrategy, ViewEncapsulation, ContentChildren, AfterContentInit, TemplateRef, QueryList} from '@angular/core';\nimport {DomHandler} from 'primeng-lts/dom';\nimport {CommonModule} from '@angular/common';\nimport {RippleModule} from 'primeng-lts/ripple';\nimport {PrimeTemplate} from 'primeng-lts/api';\n\n@Directive({\n    selector: '[pButton]'\n})\nexport class ButtonDirective implements AfterViewInit, OnDestroy {\n\n    @Input() iconPos: 'left' | 'right' | 'top' | 'bottom' = 'left';\n\n    @Input() loadingIcon: string = \"pi pi-spinner pi-spin\";\n\n    public _label: string;\n\n    public _icon: string;\n\n    public _loading: boolean = false;\n\n    public initialized: boolean;\n\n    public _initialStyleClass: string;\n\n    constructor(public el: ElementRef) {}\n\n    ngAfterViewInit() {\n        this._initialStyleClass = this.el.nativeElement.className;\n        DomHandler.addMultipleClasses(this.el.nativeElement, this.getStyleClass());\n\n        if (this.icon) {\n            this.createIconEl();\n        }\n\n        let labelElement = document.createElement(\"span\");\n        if (this.icon && !this.label) {\n            labelElement.setAttribute('aria-hidden', 'true');\n        }\n        labelElement.className = 'p-button-label';\n\n        if (this.label)\n            labelElement.appendChild(document.createTextNode(this.label));\n        else\n            labelElement.innerHTML = '&nbsp;';\n\n        this.el.nativeElement.appendChild(labelElement);\n        this.initialized = true;\n    }\n\n    getStyleClass(): string {\n        let styleClass = 'p-button p-component';\n        if (this.icon && !this.label) {\n            styleClass = styleClass + ' p-button-icon-only';\n        }\n\n        if (this.loading) {\n            styleClass = styleClass + ' p-disabled p-button-loading';\n            if (!this.icon && this.label)\n                styleClass = styleClass + ' p-button-loading-label-only';\n        }\n\n        return styleClass;\n    }\n\n    setStyleClass() {\n        let styleClass = this.getStyleClass();\n        this.el.nativeElement.className = styleClass + ' ' + this._initialStyleClass;\n    }\n\n    createIconEl() {\n        let iconElement = document.createElement(\"span\");\n        iconElement.className = 'p-button-icon';\n        iconElement.setAttribute(\"aria-hidden\", \"true\");\n        let iconPosClass = this.label ? 'p-button-icon-' + this.iconPos : null;\n\n        if (iconPosClass) {\n            DomHandler.addClass(iconElement, iconPosClass);\n        }\n\n        let iconClass = this.getIconClass();\n        \n        if(iconClass) {\n            DomHandler.addMultipleClasses(iconElement, iconClass);\n        }\n\n        let labelEl = DomHandler.findSingle(this.el.nativeElement, '.p-button-label')\n\n        if (labelEl)\n            this.el.nativeElement.insertBefore(iconElement, labelEl);\n        else\n            this.el.nativeElement.appendChild(iconElement)\n    }\n\n    getIconClass() {\n        return this.loading ? 'p-button-loading-icon ' + this.loadingIcon : this._icon;\n    }\n\n    setIconClass() {\n        let iconElement = DomHandler.findSingle(this.el.nativeElement, '.p-button-icon');\n        if (iconElement) {\n            if (this.iconPos)\n                iconElement.className = 'p-button-icon p-button-icon-' + this.iconPos + ' ' + this.getIconClass();\n            else\n                iconElement.className = 'p-button-icon ' + this.getIconClass();\n        }\n        else {\n            this.createIconEl();\n        }\n    }\n\n    removeIconElement() {\n        let iconElement = DomHandler.findSingle(this.el.nativeElement, '.p-button-icon');\n        this.el.nativeElement.removeChild(iconElement)\n    }\n\n    @Input() get label(): string {\n        return this._label;\n    }\n\n    set label(val: string) {\n        this._label = val;\n\n        if (this.initialized) {\n            DomHandler.findSingle(this.el.nativeElement, '.p-button-label').textContent = this._label || '&nbsp;';\n            this.setStyleClass();\n        }\n    }\n\n    @Input() get icon(): string {\n        return this._icon;\n    }\n\n    set icon(val: string) {\n        this._icon = val;\n\n        if (this.initialized) {\n            this.setIconClass();\n            this.setStyleClass();\n        }\n    }\n\n    @Input() get loading(): boolean {\n        return this._loading;\n    }\n\n    set loading(val: boolean) {\n        this._loading = val;\n\n        if (this.initialized) {\n            if (this.loading || this.icon)\n                this.setIconClass();\n            else\n                this.removeIconElement();\n\n            this.setStyleClass();\n        }\n    }\n\n    ngOnDestroy() {\n        this.initialized = false;\n    }\n}\n\n@Component({\n    selector: 'p-button',\n    template: `\n        <button [attr.type]=\"type\" [class]=\"styleClass\" [ngStyle]=\"style\" [disabled]=\"disabled || loading\"\n            [ngClass]=\"{'p-button p-component':true,\n                        'p-button-icon-only': (icon && !label),\n                        'p-button-vertical': (iconPos === 'top' || iconPos === 'bottom') && label,\n                        'p-disabled': this.disabled || this.loading,\n                        'p-button-loading': this.loading,\n                        'p-button-loading-label-only': this.loading && !this.icon && this.label}\"\n                        (click)=\"onClick.emit($event)\" (focus)=\"onFocus.emit($event)\" (blur)=\"onBlur.emit($event)\" pRipple>\n            <ng-content></ng-content>\n            <ng-container *ngTemplateOutlet=\"contentTemplate\"></ng-container>\n            <span [ngClass]=\"{'p-button-icon': true,\n                        'p-button-icon-left': iconPos === 'left' && label,\n                        'p-button-icon-right': iconPos === 'right' && label,\n                        'p-button-icon-top': iconPos === 'top' && label,\n                        'p-button-icon-bottom': iconPos === 'bottom' && label}\"\n                        [class]=\"loading ? 'p-button-loading-icon ' + loadingIcon : icon\" *ngIf=\"!contentTemplate && (icon||loading)\" [attr.aria-hidden]=\"true\"></span>\n            <span class=\"p-button-label\" [attr.aria-hidden]=\"icon && !label\" *ngIf=\"!contentTemplate\">{{label||'&nbsp;'}}</span>\n            <span [ngClass]=\"badgeStyleClass()\" [class]=\"badgeClass\" *ngIf=\"!contentTemplate && badge\">{{badge}}</span>\n        </button>\n    `,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class Button implements AfterContentInit {\n\n    @Input() type: string = \"button\";\n\n    @Input() iconPos: string = 'left';\n\n    @Input() icon: string;\n\n    @Input() badge: string;\n\n    @Input() label: string;\n\n    @Input() disabled: boolean;\n\n    @Input() loading: boolean = false;\n\n    @Input() loadingIcon: string = \"pi pi-spinner pi-spin\";\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() badgeClass: string;\n\n    contentTemplate: TemplateRef<any>;\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n\n    @Output() onClick: EventEmitter<any> = new EventEmitter();\n\n    @Output() onFocus: EventEmitter<any> = new EventEmitter();\n\n    @Output() onBlur: EventEmitter<any> = new EventEmitter();\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch(item.getType()) {\n                case 'content':\n                    this.contentTemplate = item.template;\n                break;\n\n                default:\n                    this.contentTemplate = item.template;\n                break;\n            }\n        });\n    }\n\n    badgeStyleClass() {\n        return {\n            'p-badge p-component': true,\n            'p-badge-no-gutter': this.badge && String(this.badge).length === 1\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,RippleModule],\n    exports: [ButtonDirective,Button],\n    declarations: [ButtonDirective,Button]\n})\nexport class ButtonModule { }\n"]}